<!DOCTYPE html>
<html lang="en">
<head>
    <link href="myresume.css" rel="stylesheet">
    <script defer src="myresume.js" type="text/javaScript"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Builder</title>
    
    
</head>
<body>
    <h1 style="font-family: sans-serif; font-size: 40px; color:rgb(50, 8, 60)">Resume Builder</h1>

    <div class="main">
        <form class="register">
         <div class="top_div">
            <div class="first_container">
            <div class="input_container">
                <label>Image</label>
                <td><input type="file" id="image" accept="image/*" ></td>
                <button type="button" onclick="saveimage()">+</button>
            </div>
            <div class="input_container">
                <label>Designation</label>
                <input type="text" id="designation"  placeholder="Enter your Designation" onkeyup="gen(this,'designation')"/>
            </div>
        
            <div class="input_container">
                <label>Resume title</label>
                <input type="text" id="title"  placeholder="Enter Resume title" onkeyup="gen(this,'title')"/>
            </div>
            <div class="input_container">
                <!-- <label>How many Experience did you have?</label> -->
                <!-- <input type="number" placeholder="Enter any number"/> -->
            </div>
            <div class="input_container">
                <label>Name</label>
                <input type="text"  id="name" placeholder="Enter Your Name" onkeyup="gen(this,'name')"/>
            </div>
            <div class="input_container">
                <label>Email</label>
                <input type="email"  id="email" placeholder="Enter Your email" onkeyup="gen(this,'email')"/>
            
            </div>
            <div class="input_container">
                <label>Phone Number</label>
                <input type="number"  id="phonenumber" placeholder="Enter Your Phone Number" onkeyup="gen(this,'phonenumber')"/>
            </div>
            <div class="input_container">
                <label>Date</label>
                <input type="date"  id="date" placeholder="Enter date" onkeyup="gen(this,'date')"/>
            
            </div>
            <div class="input_container">
                <label>Objectives</label>
                <input type="text"  id="objectives" placeholder="Enter Objectives" onkeyup="gen(this,'objectives')"/>
            
            </div>
        </div>
            
            <div class="personal_details">
                <h2>Personal Details</h2>
            <div class="input_container">
                <label>Hobbies</label>
                <input type="text"  placeholder="Enter Your hobby"  id="hobby"/>
                <button type="button"  onclick="gethobbies('personal_details','hobbies','hobby')">+</button>
            
            </div>
            <div class="input_container">
                <label>Father's Name</label>
                <input type="text"  placeholder="Enter Your Father's Name" onkeyup="gen(this,'father_name','personal_details')"/>
            </div>
            <div class="input_container">
                <label>Mother's Name</label>
                <input type="text"  placeholder="Enter Your Mother's Name" onkeyup="gen(this,'mother_name','personal_details')"/>
            </div>
            <div class="input_container">
                <label>date of birth</label>
                <input type="month"  placeholder="Enter Your date of birth" onkeyup="gen(this,'date_of_birth','personal_details')"/>
            </div>
            <div class="input_container">
                <label>Address </label>
                <input type="text"  placeholder="Enter Your address" onkeyup="gen(this,'address','personal_details')"/>
            </div>
            <div class="input_container">
                <label>Languages known</label>
                <input type="text"  placeholder="Enter languages known " id="language"/>
                <button type="button"  onclick="getlanguage('personal_details','languages_known','language')">+</button>
            
            </div>
        </div>
        </div>
        <div class="middle_div">
        <div class="skills">
        <div class="input_container">
            <label>Skills</label>
            <input type="text" placeholder="Enter Your Skills" id="skill" />
            <button type="button" onclick="addarrays('skills','skill')">+</button>
        </div>
    </div>
    <div class="socialmedia">
    <div class="input_container">
        <label>Linkedin id</label>
        <input type="text" id="linkedin"  placeholder="Enter your linkedin id" onkeyup="gen(this,'linkedin')"/>
    </div>
    <br>
    <div class="input_container">
        <label>Git Hub User Name</label>
        <input type="text" id="github"  placeholder="Enter your Git Hub User Name" onkeyup="gen(this,'github')"/>
    </div>
    </div>
</div>
<div class="education">
            <h2>Education</h2>
            <div class="input_container">
                <label>UG</label>
                <input type="text"  placeholder="Enter course name" onkeyup="gen(this,'education',false,0,'course_name')"/>
                <input type="text"  placeholder="Enter institution name" onkeyup="gen(this,'education',false,0,'institution_name')"/>
                <input type="number"  placeholder="Enter percentage scored" onkeyup="gen(this,'education',false,0,'percentage_scored')"/>
                <input type="number"  placeholder="Enter year of passed out" onkeyup="gen(this,'education',false,0,'Year')"/>
            </div>
            <div class="input_container">
                <label>10th</label>
                <input type="text"  placeholder="Enter course name" onkeyup="gen(this,'education',false,1,'course_name')"/>
                <input type="text"  placeholder="Enter institution name" onkeyup="gen(this,'education',false,1,'institution_name')"/>
                <input type="number" placeholder="Enter percentage scored" onkeyup="gen(this,'education',false,1,'percentage_scored')"/>
                <input type="number"  placeholder="Enter year of passed out" onkeyup="gen(this,'education',false,1,'Year')"/>
            </div>
            <div class="input_container">
                <label>12th</label>
                <input type="text"  placeholder="Enter course name" onkeyup="gen(this,'education',false,2,'course_name')"/>
                <input type="text"  placeholder="Enter institution name" onkeyup="gen(this,'education',false,2,'institution_name')"/>
                <input type="number"  placeholder="Enter percentage scored" onkeyup="gen(this,'education',false,2,'percentage_scored')"/>
                <input type="number"  placeholder="Enter year of passed out" onkeyup="gen(this,'education',false,2,'Year')"/>
            </div>
        </div>
        <div class="experience">
            <h2>Experience</h2>
            <div class="input_container">
               
                <input type="text"  placeholder="Enter company name" onkeyup="gen(this,'experience',false,0,'company_name')"/>
                <input type="text"  placeholder="Enter your role" onkeyup="gen(this,'experience',false,0,'role')"/>
                <input type="number"  placeholder="Enter year of Experience" onkeyup="gen(this,'experience',false,0,'year_of_experience')"/>
               
            </div>
            <div class="input_container">
                <input type="text"  placeholder="Enter company name" onkeyup="gen(this,'experience',false,1,'company_name')"/>
                <input type="text"  placeholder="Enter your role" onkeyup="gen(this,'experience',false,1,'role')"/>
                <input type="number"  placeholder="Enter year of Experience" onkeyup="gen(this,'experience',false,1,'year_of_experience')"/>    
            </div>
        </div>
        <div class="project">
            <h2>Projects</h2>
            <div class="input_container">
               
                <input type="text"  placeholder="Enter title" onkeyup="gen(this,'projects',false,0,'title')"/>
                <input type="text"  placeholder="Enter your role" onkeyup="gen(this,'projects',false,0,'role')"/>
                <input type="number"  placeholder="Enter year" onkeyup="gen(this,'projects',false,0,'year')"/>
               
            </div>
      
       
            <div class="input_container">
                <input type="text"  placeholder="Enter title" onkeyup="gen(this,'projects',false,1,'title')"/>
                <input type="text"  placeholder="Enter your role" onkeyup="gen(this,'projects',false,1,'role')"/>
                <input type="number"  placeholder="Enter year" onkeyup="gen(this,'projects',false,1,'year')"/>
                 
            </div>
        </div>
        <div class="certification">

            <h2>Certifications</h2>
            <div class="input_container">
               
                <input type="text"  placeholder="Enter Certificate name" onkeyup="gen(this,'certifications',false,0,'certificate_name')"/>
                <input type="text"  placeholder="Enter given institution name" onkeyup="gen(this,'certifications',false,0,'given_institution')"/>
               
            </div>
            <div class="input_container">
                <input type="text"  placeholder="Enter Certificate name" onkeyup="gen(this,'certifications',false,1,'certificate_name')"/>
                <input type="text"  placeholder="Enter given institution name" onkeyup="gen(this,'certifications',false,1,'given_institution')"/>
               
                 
            </div>
        </div>
            <br/>
            <div class="hidden">
            <label>Userid:  </label>
            <hidden type="hidden" id="hidden"></hidden>  
        </div>
            <br>
            <div class="footer">
                <button class="submitBtn" type="button" onkeyup="gen(this,'id')" id="saveresume">
                    Submit
                </button>
                 
            </div>
            
        </form>

        <div class="code_preview">
            <pre id="code"></pre>
        </div>

        
    </div>
    
</body>
<script>
    
    let existdata=localStorage.getItem("login_credentials")
    let parsedata=JSON.parse(existdata)
    parseid=(parsedata["id"])

    document.getElementById("hidden").innerHTML=  parseid
   
</script>
</html>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
    import { getFirestore,collection,addDoc,deleteDoc,updateDoc,getDoc,getDocs,doc  } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyD4Hsq2GiOH1YrneWOSBAazh_pMZBoNhUQ",
      authDomain: "resumebuilder-a39bb.firebaseapp.com",
      projectId: "resumebuilder-a39bb",
      storageBucket: "resumebuilder-a39bb.appspot.com",
      messagingSenderId: "842904588733",
      appId: "1:842904588733:web:ded89179b09898e2a742d4"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

   
    let params = new URLSearchParams(document.location.search);
    let firebase_id= params.get("firebaseid");
    
    
    document.getElementById("saveresume").addEventListener("click", async (e) =>{
    const docRef=await addDoc(collection(db,"myresumes"),myresume);
   
       
        window.location=`homepage.html?resumeid=${docRef.id}&firebaseid=${firebase_id}`
    
    getDocs(collection(db, "myresumes")).then(docSnap =>{
    let user=[];
        docSnap.forEach((doc) => {
        user.push({...doc.data(),id:doc.id})
       })
   let d=[];
   for (let each of user){
    d.push(each["id"])
   }
 
   
}) 

// getDocs(collection(db, "userslist")).then(docSnap =>{
//     let user=[];
//         docSnap.forEach((doc) => {
//         user.push({...doc.data(),id:doc.id})
//        })
 
//       let existdata=localStorage.getItem("login_credentials")
//       let parsedata=JSON.parse(existdata)

//       let params = new URLSearchParams(document.location.search);
//       let firebase_id= params.get("firebaseid");

//     if (parsedata['id']==firebase_id){
         
//         }
        
    
// })


 })    


  
   
  </script>
 
